"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[330],{4300:function(t,n,o){o.d(n,{C_:function(){return u},O7:function(){return c},Z$:function(){return l},ZP:function(){return a},_O:function(){return d},fD:function(){return A},q7:function(){return i},rW:function(){return k}});var e=o(4373),s=o(9221);const r=e.A.create({baseURL:"/api/"});r.interceptors.response.use(t=>t,async t=>{const n=t.config;if(401===t.response?.status&&!n._retry){n._retry=!0;const t=await s.A.refreshToken();if(t)return r(n)}return Promise.reject(t)});const i=()=>r.get("exercises/"),a=t=>r.post("exercises/",t),c=(t,n)=>r.put(`exercises/${t}/`,n),u=t=>r.delete(`exercises/${t}/`),l=()=>r.get("workouts/"),d=t=>r.post("workouts/",t),k=(t,n)=>r.put(`workouts/${t}/`,n),A=t=>r.delete(`workouts/${t}/`)},5534:function(t,n,o){o.d(n,{A:function(){return u}});var e=o(6768);const s={class:"AddButton"};function r(t,n,o,r,i,a){return(0,e.uX)(),(0,e.CE)("div",s,[(0,e.Lk)("button",{onClick:n[0]||(n[0]=(...t)=>a.handleClick&&a.handleClick(...t))},"+")])}var i={name:"AddButton",methods:{handleClick(){this.$emit("click")}}},a=o(1241);const c=(0,a.A)(i,[["render",r],["__scopeId","data-v-0bb76ebc"]]);var u=c},7397:function(t,n,o){o.d(n,{A:function(){return l}});var e=o(6768),s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAALvSURBVHgB1ZlNTxNBGMdnX9DSAlpL2oOJB9QYiumReLBNPOBFSbzgBT14ggt68OrJiwejH8DPQJQSDkjTpNoD6sVETKjRGCQYDKV2oYsBtrvrzMLSlvTl2ZeZXf6nTjP7zO+/OzPPPLsInXBxyAPpum6Mm83mn6yt/XkqCILGcfyv8fE7l/DfPMdxVWgs5gZM+JmZty9LpfLDQOA0b4BgaNwWp6YedB00OQUSj6mBVvCmeJ5TSiWJOzQBEo8YyYRPp+dfNIMn0jS9KxjsFpaWlm8ioJgYqIff3JQeNYOv9dWQIIjbCCgRUVYNfqEjPJ73qqpqO/H45Q8IKKpPoBH+b0f4SkVWJibuncHXgW8stUXcacE2QBzCT07e7ybwnm+jrOCN65HLYglP5OoaqM15NvBGHOSSWN/5o1jIBXkFT+Q4DzRmWIkpvBETOZCVDEsDnsj2IraaYWnAG7GRDdnJsDTgjfjIorxcsE3HsNLZb/DGONCOfoQ3xoJ08is8EXQX4mZnM8/9Bk8EMlAsFqOrq78ft4PH9WxVlnf2WMIb40I6bWxsD4ZCQb1dH1n+J46O3opj+FOs4IlABoaGLua3tirkVUdLE9igOj39ZqVQ+HnFSkXlVOBMPDJyfbhcllqawNBCJBJWM5l3X7CJQVYmQIOQKYGBPuOKO5XPf3ofDp/VzZ2pXvUmcDOB28u0pxO8eD4wsYh/+sqEpcfsRxOW56nfTNhaaH4yYXun8IsJR1udH0w43qu9NuFKsvHShGvZ0isTrqZ7L0y4fl5hbYLKgYulCWonRlYmqB557ZgQRfEqbn+DmqD+kY+AJBLxxWRyOAWpJ+bmFr4iC29LmHyltGKir68XFQo/bgBDI2alH3Q67e7uoXC49zswLDsDRJ1MKEpVjUYjr2Ox2Ao0JlMDRKYJQdCT2ezHfH//ORVPHn5/X9F6ekLpsbHbd5s9mZbxkEciRf/6unQ+l8vNY/jAwMCFV6nUtWcEvt3bj+P6Dx/LlNCuGSrcAAAAAElFTkSuQmCC";const r={class:"Arrow_Back"};function i(t,n,o,i,a,c){return(0,e.uX)(),(0,e.CE)("div",r,[(0,e.Lk)("button",{class:"Arrow_Back_btn",onClick:n[0]||(n[0]=(...t)=>c.handleClick&&c.handleClick(...t))},[...n[1]||(n[1]=[(0,e.Lk)("img",{src:s},null,-1)])])])}o(4114);var a={name:"ArrowBack",props:{action:{type:String,default:"closeModal"}},data(){return{}},methods:{handleClick(){"goHome"===this.action?this.$router.push("/"):"goChooseTraining"===this.action?this.$router.push("/choose_training"):this.$emit("close")}}},c=o(1241);const u=(0,c.A)(a,[["render",i],["__scopeId","data-v-468c7b7b"]]);var l=u},8330:function(t,n,o){o.r(n),o.d(n,{default:function(){return B}});var e=o(6768),s=o(4232);const r={class:"choose-training"},i={class:"header"},a={class:"workouts-list"},c={key:0,class:"loading"},u={key:1,class:"empty"},l={class:"actions"},d=["onClick"],k=["onClick"];function A(t,n,o,A,f,p){const C=(0,e.g2)("ArrowBack"),g=(0,e.g2)("AddButton"),h=(0,e.g2)("router-link");return(0,e.uX)(),(0,e.CE)("div",r,[(0,e.Lk)("div",i,[(0,e.bF)(C,{action:"goHome"}),n[0]||(n[0]=(0,e.Lk)("h1",null,"Мои тренировки",-1)),(0,e.bF)(h,{to:"/training/edit"},{default:(0,e.k6)(()=>[(0,e.bF)(g)]),_:1})]),(0,e.Lk)("div",a,[f.loading?((0,e.uX)(),(0,e.CE)("div",c,"Загрузка...")):0===f.workouts.length?((0,e.uX)(),(0,e.CE)("div",u,[n[2]||(n[2]=(0,e.Lk)("p",null,"У вас нет тренировок",-1)),(0,e.bF)(h,{to:"/training/edit"},{default:(0,e.k6)(()=>[...n[1]||(n[1]=[(0,e.Lk)("button",{class:"btn-create"},"Создать первую",-1)])]),_:1})])):((0,e.uX)(!0),(0,e.CE)(e.FK,{key:2},(0,e.pI)(f.workouts,t=>((0,e.uX)(),(0,e.CE)("div",{key:t.id,class:"workout-card"},[(0,e.Lk)("h3",null,(0,s.v_)(t.name),1),(0,e.Lk)("p",null,(0,s.v_)(t.exercises.length)+" упражнений",1),(0,e.Lk)("div",l,[(0,e.Lk)("button",{onClick:n=>p.startWorkout(t),class:"btn-start"},"Начать",8,d),(0,e.bF)(h,{to:`/training/${t.id}/edit`},{default:(0,e.k6)(()=>[...n[3]||(n[3]=[(0,e.Lk)("button",{class:"btn-edit"},"Редактировать",-1)])]),_:1},8,["to"]),(0,e.Lk)("button",{onClick:n=>p.deleteWorkout(t.id),class:"btn-delete"},"Удалить",8,k)])]))),128))])])}o(4114),o(8111),o(2489);var f=o(7397),p=o(5534),C=o(4300),g={components:{ArrowBack:f.A,AddButton:p.A},data(){return{workouts:[],loading:!0}},async mounted(){await this.loadWorkouts()},methods:{async loadWorkouts(){this.loading=!0;try{const t=await(0,C.Z$)();this.workouts=t.data}catch(t){console.error("Ошибка загрузки тренировок:",t)}finally{this.loading=!1}},startWorkout(t){this.$router.push({name:"DoingExercises",params:{workoutId:t.id}})},async deleteWorkout(t){if(confirm("Удалить тренировку?"))try{await(0,C.fD)(t),this.workouts=this.workouts.filter(n=>n.id!==t)}catch(n){alert("Не удалось удалить")}}}},h=o(1241);const b=(0,h.A)(g,[["render",A],["__scopeId","data-v-116eaad4"]]);var B=b}}]);
//# sourceMappingURL=330.2427d4fb.js.map