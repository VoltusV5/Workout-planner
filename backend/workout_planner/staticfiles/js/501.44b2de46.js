"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[501],{4501:function(e,r,t){t.r(r),t.d(r,{default:function(){return k}});var n=t(6768),o=t(5130),u=t(4232);const a={class:"auth-container"},s={key:0,class:"error"},i={key:0,style:{"margin-top":"20px","text-align":"center"}};function d(e,r,t,d,l,p){const c=(0,n.g2)("router-link");return(0,n.uX)(),(0,n.CE)("div",a,[r[9]||(r[9]=(0,n.Lk)("h2",null,"Вход",-1)),(0,n.Lk)("form",{onSubmit:r[2]||(r[2]=(0,o.D$)((...e)=>p.handleLogin&&p.handleLogin(...e),["prevent"]))},[(0,n.Lk)("div",null,[r[4]||(r[4]=(0,n.Lk)("label",{for:"username"},"Имя пользователя:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":r[0]||(r[0]=e=>l.username=e),required:""},null,512),[[o.Jo,l.username]])]),(0,n.Lk)("div",null,[r[5]||(r[5]=(0,n.Lk)("label",{for:"password"},"Пароль:",-1)),(0,n.bo)((0,n.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":r[1]||(r[1]=e=>l.password=e),required:""},null,512),[[o.Jo,l.password]])]),r[6]||(r[6]=(0,n.Lk)("div",null,[(0,n.Lk)("button",{type:"submit"},"Войти")],-1)),l.error?((0,n.uX)(),(0,n.CE)("p",s,(0,u.v_)(l.error),1)):(0,n.Q3)("",!0)],32),(0,n.Lk)("p",null,[r[8]||(r[8]=(0,n.eW)("Нет аккаунта? ",-1)),(0,n.bF)(c,{to:"/register"},{default:(0,n.k6)(()=>[...r[7]||(r[7]=[(0,n.eW)("Зарегистрироваться",-1)])]),_:1})]),e.$route.query.dev?((0,n.uX)(),(0,n.CE)("div",i,[(0,n.Lk)("button",{onClick:r[3]||(r[3]=(...e)=>p.devLogin&&p.devLogin(...e)),style:{background:"#ff9800",color:"white",padding:"10px"}}," DEV LOGIN (автовход) ")])):(0,n.Q3)("",!0)])}t(4114);var l=t(9221),p={data(){return{username:"",password:"",error:null}},methods:{async handleLogin(){try{await l.A.login(this.username,this.password);const e=this.$route.query.redirect||"/";this.$router.push(e)}catch(e){this.error=e.detail||"Ошибка входа"}},async devLogin(){"true"==={NODE_ENV:"production",BASE_URL:"/static/"}.VUE_APP_DEV_MODE&&(await this.$auth.login(),this.$router.push(this.$route.query.redirect||"/"))}}},c=t(1241);const h=(0,c.A)(p,[["render",d],["__scopeId","data-v-ebf83ae6"]]);var k=h}}]);
//# sourceMappingURL=501.44b2de46.js.map